<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plan Your Visit</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Parisienne&display=swap" rel="stylesheet">

<body>
    <!--HEADER activity-section------------------------------------------------------------------------->
    <div class="header-container">
        <div class="header">  
    <!--LOGO SPECIFIC activity-section (lHS OF HEADER)------------------------------------------------------>
            <div class="logo" >
                <img src="https://flagcdn.com/40x30/fr.png" srcset="https://flagcdn.com/80x60/fr.png 2x,https://flagcdn.com/120x90/fr.png 3x"
                    width="40" height="30" alt="France">
                <p>Jade's Parisian Guide</p>
            </div>
    <!--NAV BAR SPECIFIC activity-section (RHS OF HEADER)-------------------------------------------------------->
            <nav class="nav-bar">
                <ul>
                    <li><a href="index.html" class="nav-item">Home</a></li>
                    <li>
                        <a href="#" class="nav-item">Itineraries</a>
                        <ul class="dropdown">
                            <li><a href="classic.html">Classic</a></li>
                            <li><a href="hiddengems.html">Hidden Gems</a></li>
                            <li><a href="romantic.html">Romantic</a></li>
                        </ul>
                    </li> 
                    
                    <li>
                        <a href="#" class="nav-item">Activities</a>
                        <ul class="dropdown">
                            <li><a href="food.html">Cuisine</a></li>
                            <li><a href="architecture.html">Architecture</a></li>
                            <li><a href="artculture.html">Museums & Culture</a></li>
                            <li><a href="gardens.html">Quartiers & Gardens</a></li>
                            <li><a href="entertainment.html">Entertainment</a></li>
                        </ul>
                    </li>
                    <li><a href="planvisit.html" class="nav-item">Plan your Visit</a></li>
                </ul>
            </nav>
        </div>
    </div>
    <div class="headings">
        <h1 class="page-title"> Plan Your Visit</h1>
        <h2 class="tagline">Plan your perfect trip to Paris with the tools below</h2>
    </div>

    
    <h2>Paris Activities</h2>
    <p>The list below has been compiled of the items you may have seen from the other pages. For simplicity, we've grouped them into 
        the various activity-sections (cusine, architecture etc.) so that you can reflect back on the page for more information should you wish. 
    </p>
    <div class="planvisit-container">
        <aside class="sidebar">
            <div class="activity-section">
                <h2 class="activity-category">Food & Drink</h2>
                <ul class="PYVList">
                    <li id="dupain"> Pain et des Id√©es</li>
                    <li id="grenierapain"> Grenier √† Pain</li>
                    <li id="utopie">Boulangerie Utopie</li>
                    <li id="lacafeotheque">La Caf√©oth√®que</li>
                    <li id="cafecoutume"> Caf√© Coutume</li>
                    <li id="tenbelles">Ten Belles</li>
                    <li id="lafontainedemars">La Fontaine de Mars</li>
                    <li id="chezfernand"> Chez Fernand</li>
                    <li id="bouillonchartier">Bouillon Chartier</li>
                    <li id="lamaisonrose">La Maison Rose</li>
                    <li id="carette">Carette</li>
                    <li id="berthillon">Berthillon Ice Cream</li>
                    <li id="angelina">Mademoiselle Angelina</li>
                    <li id="pierreherme">=Pierre Hermes</li>
                    <li id="cafedeflore">Caf√© de Flore</li>
                    <li id="lesdeuxmagots">Les Deux Magots</li>
                    <li id="girafe"> Girafe Restaurant</li>
                </ul>
            </div>
            <div class="activity-section">
                <h2 class="activity-category">Architecture</h2>
                <ul class="PYVList">
                    <li id="eiffeltower">Eiffel Tower</li>
                    <li id="notredame">Notre-Dame Cathedral</li>
                    <li id="saintechapelle">Sainte chapelle</li>
                    <li id="arcdetriomphe">Arc de Triomphe</li>
                    <li id="palaisgarnier">Palais Garnier</li>
                    <li id="luxembourgpalace">Luxembourg Palace</li>
                    <li id="sacrecoeur">Sacr√©-C≈ìur Basilica</li>
                </ul>
            </div>
            <div class="activity-section">
                <h2 class="activity-category">Museums & Culture</h2>
                <ul class="PYVList">
                    <li id="louvre">The Louvre</li>
                    <li id="pompidou">The Pompidou Centre</li>
                    <li id="dorsay"> Mus√©e d'Orsay</li>
                    <li id="orangerie">Mus√©e de l'Orangerie</li>  
                    <li id="moderne">Musee de l'Arte Moderne</li>
                    <li id="catacombs">Catacombs of Paris</li>          
                </ul>
            </div>
            <div class="activity-section">
                <h2 class="activity-category">Quartiers & Gardens</h2>
                <ul class="PYVList">
                    <li id="montmartre">Montmartre</li>
                    <li id="plantee">Promenade Plant√©e</li>
                    <li id="plantes">Jardin des Plantes</li>
                    <li id="rue-cremieux">Rue Cr√©mieux</li>
                    <li id="latin">Latin Quarter</li>
                    <li id="seine">Along the Seine</li>
                    <li id="champs">Champs-√âlys√©es/Arc de Triomphe</li>     
                
                </ul>
            </div>
            <div class="activity-section">
                <h2 class="activity-category">Entertainment & Nightlife</h2>
                <ul class="PYVList">
                    <li id="paradislatin">Paradis Latin Dinner Show</li>
                    <li id="moulinrouge">Moulin Rouge</li>
                    <li id="ducdeslombards">Duc des Lombards</li>
                    <li id="sunsetsunside">Sunset Sunside</li>
                    <li id="caveaudelahuchette">Le Caveau de la Huchette</li>
                    <li id="balblomet">Le Bal Blomet</li>
                    <li id="lebaronrouge">Le Baron Rouge</li>
                    <li id="leverrevole">Le Verre Vol√©</li>
                    <li id="leperchoir">Le Perchoir</li>
                    <li id="terrasshotel">Terrass' Hotel Rooftop</li>
                    <li id="seinecruise">Seine River Cruise</li>
                    <li id="ilecitestroll">√éle de la Cit√© Stroll</li>
                    
                
                </ul>
            </div>
        </aside>
        <div class="builders-container">
            <section class="itinerary-builder">
                <h2>Itinerary Builder</h2>
                <p>brief description here</p>
                <table id="itinerary-table">
                    <colgroup>
                    <col style="width:150px;">
                    <col style="width:300px;">
                    <col style="width:300px;">
                </colgroup>
                    <thead>
                        <tr>
                            <th>Time of Day</th>
                            <th>Day 1</th>
                            <th>Day 2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>‚òïÔ∏è Breakfast</th>
                            <td class="day1"></td>
                            <td class="day2"></td>
                        </tr>
                        <tr>
                            <th>üåû Morning</th>
                             <td class="day1"></td>
                            <td class="day2"></td>
                        </tr>
                        <tr>
                            <th>üçΩ Lunch</th>
                            <td class="day1"></td>
                            <td class="day2"></td>
                            
                        </tr>
                        <tr>
                            <th>üèõ Afternoon</th>
                            <td class="day1"></td>
                            <td class="day2"></td>
                        </tr>
                        <tr>
                            <th>üåá Evening</th>
                            <td class="day1"></td>
                            <td class="day2"></td>
                        </tr>
                        <tr>
                            <th>üåô Night</th>
                            <td class="day1"></td>
                            <td class="day2"></td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section class="map-builder">
                <h2>Map Builder</h2>
                <p>brief description here</p>
                 <div id="map"></div>
                 
            </section>
            <section class="budget-builder">
                <h2>Budget Calculator</h2>
                <p>brief description here</p>
            </section>
        </div>
    </div>
    <div class="footer-container">
        <footer class="copyright">Copyright@JadeEvansInc.</footer>
        <div class="social-icons"><img src='imgs/social-icons.svg'>
    </div>
     <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin="">
    </script>
    <script src="script.js"></script>
    <script>
        //1. LOGIC FOR MAKING THE LIST OF PLACES APPEAR WHEN YOU CLICK ON THE TOPIC HEADINGS: FOOD ETC.
        const activityCategory = document.querySelectorAll(".activity-category");//aka Cuisine, Entertainment etc.
        activityCategory.forEach(category=>{
                category.addEventListener("click", ()=>{
                category.classList.toggle("active")//matches the CSS:.activity-category.active + .PYVList to show the list//
    
            });
            });
       

    //Drag & Drop is separated into two separate scopes: the dragged list items and the dropped into cells. 
    //We assign varaible names for these first. 
    const listItems = document.querySelectorAll(".PYVList li");//for the place names. 
    const allDay1AndDay2Cells = document.querySelectorAll(".day1, .day2");//for the cells that can be dropped into. 

    //This is where the drop happens aka in the table cells:
    allDay1AndDay2Cells.forEach((cell) => {//we loop through each cell//
        cell.addEventListener("dragover", (e) => {//we listen out if each cell has a "dragover"; if this e takes place:
            e.preventDefault();//we use this line to enable dragover (browser blocks by default) - N.B. this essentially facilitates the dragover. 
            cell.style.border = "2px dashed green";//this allows a visual cue for the user. 
        });

        cell.addEventListener("dragleave", () => {//we listen out if each cell has a dragleave; aka if the dragover but not dropped. 
            cell.style.border = "";//this makes sure the visual cue for being dragged over isnt left on. 
        });

        cell.addEventListener("drop", (e) => {//we listen out if any cell has a drop event; if this event takes place:
            e.preventDefault();//again, enables the drop which is otherwise blocked by browser.
            cell.style.border = "";//removes the guidelines. 
            const draggedData = JSON.parse(e.dataTransfer.getData("application/json")); //parses the data that is stringified when dragged.  

            // prevent duplicate drops
            const existing = cell.querySelector(`p[data-place-id="${draggedData.id}"]`);
            if (existing) return;
            //this is where we create the name that appears in the cell and append to the cell. 
            const nameToAppear = document.createElement("p");
            nameToAppear.textContent = draggedData.name;
            nameToAppear.dataset.placeId = draggedData.id;
            cell.appendChild(nameToAppear);
        });
    });
    //This is where the actions on the list items happen aka creating the checkboxes and adding the drag features. 
    listItems.forEach((item) => {
        const itemText = item.innerText;//we need to assign this first as it is used later and we dont want the checkboxes copied with it. 
        const checkbox = document.createElement("input");//create the checkbox.
        checkbox.type = "checkbox";
        checkbox.classList.add("itemCheckbox");
        checkbox.dataset.placeId = item.id;//assign it an id that references its current identifier. NB this is refered to as data-place-id later. 
        item.prepend(checkbox);//add to the start of the list item. 
        item.setAttribute("draggable", false);//set it as not draggable initially. 

        const handleDragStart = (e) => {//define a function to transfer the data when dragged. 
            const placeData = { name: itemText, id: item.id };//define the data we want dragged. 
            e.dataTransfer.setData("application/json", JSON.stringify(placeData));//stringify this data so it can be transferred.
        };

        checkbox.addEventListener("change", () => {//add event listener for when the box is checked. 
            const isChecked = checkbox.checked;//assign a varaible for the checked boxes.
            //visual changes upon checking. 
            item.style.backgroundColor = isChecked ? "blue" : "";
            item.style.color = isChecked ? "white" : "";
            item.style.padding = isChecked ? "5px" : "";

            item.setAttribute("draggable", isChecked);//now the checked box becomes draggable. 

            if (isChecked) {
                item.addEventListener("dragstart", handleDragStart);//if checked, add a listener so that if the dragstart event is detected, we execute the handleDrag aka convert and drag the date with it. 
            } else {//aka if NOT CHECKED
                item.removeEventListener("dragstart", handleDragStart);//undo the above 

                // Remove any dropped <p> matching this item's ID
                allDay1AndDay2Cells.forEach((cell) => {//so if not checked, seek out any items with a data-place-id matching the item.id and remove the p from it. 
                    const droppedItems = cell.querySelectorAll(`p[data-place-id="${item.id}"]`);
                    droppedItems.forEach((p) => p.remove());
                });
            }
        });
    });



    
    
    
        
           


        const map = L.map("map").setView([48.853, 2.35], 13);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
        map.invalidateSize();

    </script>
   
</body>

        
 







   
    
    